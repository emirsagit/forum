(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{14:function(t,e,n){"use strict";n.r(e);var r={props:["sitekey"],methods:{loaded:function(){var t=this;window.grecaptcha.render(this.$refs.grecaptcha,{sitekey:this.sitekey,callback:function(e){t.$emit("input",e)}})}},mounted:function(){window.ReCaptchaLoaded=this.loaded;var t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js?onload=ReCaptchaLoaded&render=explicit",document.head.appendChild(t)}},a=n(0),o=Object(a.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"grecaptcha"})}),[],!1,null,null,null);e.default=o.exports},2:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,n,a;return e=t,(n=[{key:"record",value:function(t){this.errors=t}},{key:"get",value:function(t){if(this.errors[t])return this.errors[t][0]}},{key:"clear",value:function(t){t?delete this.errors[t]:this.errors={}}},{key:"has",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?!!this.errors[t]:Object.keys(this.errors).length>0}}])&&r(e.prototype,n),a&&r(e,a),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.originalData=e,e)this[n]=e[n];this.errors=new a}var e,n,r;return e=t,(n=[{key:"data",value:function(){var t={};for(var e in this.originalData)t[e]=this[e];return t}},{key:"submit",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(a,o){axios[t](e,n.data(),r).then((function(t){n.onSuccess(t.data),a(t.data)})).catch((function(t){n.onFail(t.response.data),o(t.response.data)}))}))}},{key:"onSuccess",value:function(t){this.errors.clear()}},{key:"onFail",value:function(t){t.errors&&this.errors.record(t.errors)}},{key:"empty",value:function(){var t=this;Object.keys(this.originalData).forEach((function(e){t[e]=""}))}}])&&o(e.prototype,n),r&&o(e,r),t}();e.a=i},4:function(t,e,n){"use strict";var r=n(15),a=n(16),o=n.n(a),i=n(17),s=n.n(i),l=n(18),c=n.n(l),u=n(19),d=n.n(u),f=n(20),h=n.n(f),m=n(21),p=n.n(m),v=n(35),g={props:["default","image"],components:{Editor:r.a},data:function(){return{file:"",ids:[],config:{autofocus:!0,tools:{header:{class:o.a,config:{placeholder:"Enter a header",levels:[2,3,4],defaultLevel:3}},list:{class:s.a,inlineToolbar:!0},quote:{class:d.a,inlineToolbar:!0,shortcut:"CMD+SHIFT+O",config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote's author"}},delimiter:h.a,paragraph:{class:c.a},image:!!this.image&&{class:p.a,config:{uploader:{uploadByFile:function(t){var e={url:"/admin/upload/images",data:{file:t},headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},type:v.contentType.FORM};return v.post(e).then((function(t){return{success:t.body.success,file:{url:t.body.path}}}))}}}}},onChange:function(t){},data:{time:this.default?this.default.time:"",blocks:this.default?this.default.blocks:"",version:this.default?this.default.version:""}}}},methods:{onInitialized:function(t){this.$emit("onInitialized",t)}}},b=n(0),y=Object(b.a)(g,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"demo"},[e("editor",{ref:"editor",attrs:{config:this.config,initialized:this.onInitialized}})],1)}),[],!1,null,null,null);e.a=y.exports},45:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),o=n(2),i=n(14),s=n(4),l=n(7),c=n(8);function u(t,e,n,r,a,o,i){try{var s=t[o](i),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,a)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){u(o,r,a,i,s,"next",t)}function s(t){u(o,r,a,i,s,"throw",t)}i(void 0)}))}}var f={props:["recapthcaSiteKey"],components:{Recaptcha:i.default,JsEditor:s.a,RegisterButton:c.default,SigninButton:l.default},data:function(){return{form:new o.a({title:"",body:"",channel_id:"",recaptcha:""}),channels:{},editor:""}},methods:{onInitialized:function(t){this.editor=t},editorSave:function(){var t=this;return d(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.editor.save().then((function(e){t.form.body=e})).catch((function(t){console.log("Saving failed: ",t)}));case 2:case"end":return e.stop()}}),e)})))()},onSubmit:function(){var t=this;return d(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.editorSave();case 2:t.form.submit("post","/threads",{headers:{"Content-Type":"application/json"}}).then((function(t){return flash("Konu kaydedildi.")})).catch((function(t){grecaptcha.reset(),flash(t.errors.recaptcha?t.errors.recaptcha[0]:t.message,"error")}));case 3:case"end":return e.stop()}}),e)})))()},change:function(t){this.form.recaptcha=t}},mounted:function(){var t=this;axios.get("/channels").then((function(e){t.channels=e.data})).catch((function(t){console.log(t)})),this.$signedIn||window.toggle("register",!0)}},h=n(0),m=Object(h.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sm:w-1/2 flex flex-col sm:m-auto mb-24"},[n("div",{staticClass:"flex justify-center lg:mt-4 bg-white lg:p-2 rounded-lg shadow-lg"},[n("form",{staticClass:"bg-white w-full rounded lg:p-4 p-2 mb-4",on:{submit:function(e){return e.preventDefault(),t.onSubmit()},keydown:function(e){return t.form.errors.clear(e.target.name)}}},[n("div",{staticClass:"mb-2"},[t.$signedIn?t._e():n("div",{staticClass:"flex lg:flex-row flex-col items-center justify-between"},[n("p",{staticClass:"text-red-600"},[t._v("\n            Sohbet ve paylaşım yapmak için lütfen giriş yapın ya da\n            kayıt olun\n          ")]),t._v(" "),n("div",{staticClass:"flex flex-row"},[n("signin-button"),t._v(" "),n("register-button")],1)]),t._v(" "),n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"channel_id"}},[t._v("\n          Konu\n        ")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.channel_id,expression:"form.channel_id"}],staticClass:"select shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 focus:outline-none focus:shadow-outline leading-tight",class:{"border-red-500":t.form.errors.has("channel_id")},attrs:{id:"grid-state",name:"channel_id"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"channel_id",e.target.multiple?n:n[0])},function(e){return t.form.errors.clear(e.target.name)}]}},[n("option",{attrs:{value:"",selected:"true"}},[t._v("Seçiniz")]),t._v(" "),t._l(t.channels,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])}))],2),t._v(" "),t.form.errors.has("channel_id")?n("p",{staticClass:"text-red-500 text-xs italic",domProps:{textContent:t._s(t.form.errors.get("channel_id"))}}):t._e()]),t._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"title"}},[t._v("\n          Başlık\n        ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",class:{"border-red-500":t.form.errors.has("title")},attrs:{id:"title",type:"text",name:"title",placeholder:"Başlık"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),t._v(" "),t.form.errors.has("title")?n("p",{staticClass:"text-red-500 text-xs italic",domProps:{textContent:t._s(t.form.errors.get("title"))}}):t._e()]),t._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"body"}},[t._v("\n          İçerik\n        ")]),t._v(" "),n("js-editor",{on:{onInitialized:t.onInitialized}}),t._v(" "),t.form.errors.has("body")?n("p",{staticClass:"text-red-500 text-xs italic",domProps:{textContent:t._s(t.form.errors.get("body"))}}):t._e()],1),t._v(" "),n("div",{staticClass:"h-16 mt-2"},[n("recaptcha",{attrs:{sitekey:t.recapthcaSiteKey},on:{input:t.change}})],1),t._v(" "),t.form.errors.has("recaptcha")?n("p",{staticClass:"text-red-500 text-xs italic",domProps:{textContent:t._s(t.form.errors.get("recaptcha"))}}):t._e(),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"flex items-center"},[n("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-3 rounded focus:outline-none focus:shadow-outline",class:{"cursor-not-allowed opacity-50":t.form.errors.has()},attrs:{type:"submit"}},[t._v("\n          Gönder\n        ")]),t._v(" "),n("a",{staticClass:"bg-gray-100 hover:bg-gray-200 font-bold py-2 px-3 rounded focus:outline-none focus:shadow-outline ml-2",attrs:{href:"/"}},[t._v("\n          Geri\n        ")])])])])])}),[],!1,null,null,null);e.default=m.exports},7:function(t,e,n){"use strict";n.r(e);var r={methods:{showing:function(){window.toggle("login",!0)}}},a=n(0),o=Object(a.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{staticClass:"mt-4 lg:mt-0 mr-4 text-teal-600 hover:text-teal-700 font-semibold text-lg",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showing()}}},[t._v("Giriş")])}),[],!1,null,null,null);e.default=o.exports},8:function(t,e,n){"use strict";n.r(e);var r={methods:{showing:function(){window.toggle("register",!0)}}},a=n(0),o=Object(a.a)(r,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{staticClass:"mt-4 lg:mt-0 mr-4 text-teal-600 hover:text-teal-700 font-semibold text-lg",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.showing()}}},[t._v("Kayıt")])}),[],!1,null,null,null);e.default=o.exports}}]);