(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{11:function(t,e,n){"use strict";n.r(e);var r=n(12);for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e.default=r.default},12:function(t,e,n){"use strict";n.r(e);var r=n(185),a=n(186),o=n.n(a),i=n(187),s=n.n(i),u=n(188),l=n.n(u),c=n(189),d=n.n(c),f=n(190),h=n.n(f),v=n(191),m=n.n(v),p=n(279);e.default={props:["default","image"],components:{Editor:r.Editor},data:function(){return{file:"",ids:[],config:{autofocus:!0,tools:{header:{class:o.a,config:{placeholder:"Enter a header",levels:[2,3,4],defaultLevel:3}},list:{class:s.a,inlineToolbar:!0},quote:{class:d.a,inlineToolbar:!0,shortcut:"CMD+SHIFT+O",config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote's author"}},delimiter:h.a,paragraph:{class:l.a},image:!!this.image&&{class:m.a,config:{uploader:{uploadByFile:function(t){var e={url:"/admin/upload/images",data:{file:t},headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},type:p.contentType.FORM};return p.post(e).then((function(t){return{success:t.body.success,file:{url:t.body.path}}}))}}}}},onChange:function(t){},data:{time:this.default?this.default.time:"",blocks:this.default?this.default.blocks:"",version:this.default?this.default.version:""}}}},methods:{onInitialized:function(t){this.$emit("onInitialized",t)}}}},120:function(t,e,n){"use strict";n.r(e);var r=n(121);for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e.default=r.default},121:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),o=n(2),i=n(4);function s(t,e,n,r,a,o,i){try{var s=t[o](i),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){s(o,r,a,i,u,"next",t)}function u(t){s(o,r,a,i,u,"throw",t)}i(void 0)}))}}e.default={props:["dataThread"],components:{JsEditor:i.default},data:function(){return{form:new o.default({title:this.dataThread.title,body:"",channel_id:this.dataThread.channel_id}),channels:{},editor:"",thread:this.dataThread}},methods:{onInitialized:function(t){this.editor=t},editorSave:function(){var t=this;return u(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.editor.save().then((function(e){t.form.body=e})).catch((function(t){console.log("Saving failed: ",t)}));case 2:case"end":return e.stop()}}),e)})))()},onSubmit:function(){var t=this;return u(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.editorSave();case 2:t.form.submit("patch","/threads/"+t.thread.slug).then((function(t){return flash("Konu kaydedildi.")})).catch((function(t){flash(t.message,"error")}));case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;axios.get("/channels").then((function(e){t.channels=e.data})).catch((function(t){console.log(t)}))}}},124:function(t,e,n){"use strict";n.r(e);var r=n(177);for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a)},176:function(t,e,n){"use strict";n.r(e);var r=n(236);for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a)},177:function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return a}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"demo"},[e("editor",{ref:"editor",attrs:{config:this.config,initialized:this.onInitialized}})],1)},a=[]},179:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e);var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}var e,n,a;return e=t,(n=[{key:"record",value:function(t){this.errors=t}},{key:"get",value:function(t){if(this.errors[t])return this.errors[t][0]}},{key:"clear",value:function(t){t?delete this.errors[t]:this.errors={}}},{key:"has",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?!!this.errors[t]:Object.keys(this.errors).length>0}}])&&r(e.prototype,n),a&&r(e,a),t}();e.default=a},2:function(t,e,n){"use strict";n.r(e);var r=n(179);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.originalData=e,e)this[n]=e[n];this.errors=new r.default}var e,n,o;return e=t,(n=[{key:"data",value:function(){var t={};for(var e in this.originalData)t[e]=this[e];return t}},{key:"submit",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new Promise((function(a,o){axios[t](e,n.data(),r).then((function(t){n.onSuccess(t.data),a(t.data)})).catch((function(t){n.onFail(t.response.data),o(t.response.data)}))}))}},{key:"onSuccess",value:function(t){this.errors.clear()}},{key:"onFail",value:function(t){t.errors&&this.errors.record(t.errors)}},{key:"empty",value:function(){var t=this;Object.keys(this.originalData).forEach((function(e){t[e]=""}))}}])&&a(e.prototype,n),o&&a(e,o),t}();e.default=o},236:function(t,e,n){"use strict";n.r(e),n.d(e,"render",(function(){return r})),n.d(e,"staticRenderFns",(function(){return a}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sm:w-1/2 flex flex-col sm:m-auto"},[n("div",{staticClass:"flex justify-center rounded-lg shadow-lg bg-white lg:mt-4 lg:p-4"},[n("form",{staticClass:"w-full p-2",on:{submit:function(e){return e.preventDefault(),t.onSubmit()},keydown:function(e){return t.form.errors.clear(e.target.name)}}},[n("div",{staticClass:"mb-2"},[n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"channel_id"}},[t._v("\n          Konu\n        ")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.form.channel_id,expression:"form.channel_id"}],staticClass:"select shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 focus:outline-none focus:shadow-outline leading-tight",class:{"border-red-500":t.form.errors.has("channel_id")},attrs:{id:"grid-state",name:"channel_id"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"channel_id",e.target.multiple?n:n[0])},function(e){return t.form.errors.clear(e.target.name)}]}},[n("option",{attrs:{selected:"true"},domProps:{value:t.form.channel_id}},[t._v("\n            "+t._s(t.thread.channel.name)+"\n          ")]),t._v(" "),t._l(t.channels,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])}))],2),t._v(" "),t.form.errors.has("channel_id")?n("p",{staticClass:"text-red-500 text-xs italic",domProps:{textContent:t._s(t.form.errors.get("channel_id"))}}):t._e()]),t._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"title"}},[t._v("\n          Başlık\n        ")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",class:{"border-red-500":t.form.errors.has("title")},attrs:{id:"title",type:"text",name:"title",placeholder:"Başlık"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),t._v(" "),t.form.errors.has("title")?n("p",{staticClass:"text-red-500 text-xs italic",domProps:{textContent:t._s(t.form.errors.get("title"))}}):t._e()]),t._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"body"}},[t._v("\n          İçerik\n        ")]),t._v(" "),n("js-editor",{attrs:{default:t.thread.editors_data},on:{onInitialized:t.onInitialized}}),t._v(" "),t.form.errors.has("body")?n("p",{staticClass:"text-red-500 text-xs italic",domProps:{textContent:t._s(t.form.errors.get("body"))}}):t._e()],1),t._v(" "),n("div",{staticClass:"flex items-center justify-between"},[n("button",{staticClass:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-3 rounded focus:outline-none focus:shadow-outline",class:{"cursor-not-allowed opacity-50":t.form.errors.has()},attrs:{type:"submit"}},[t._v("\n          Gönder\n        ")])])])])])},a=[]},298:function(t,e,n){"use strict";n.r(e);var r=n(176),a=n(120);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var i=n(0),s=Object(i.default)(a.default,r.render,r.staticRenderFns,!1,null,null,null);e.default=s.exports},4:function(t,e,n){"use strict";n.r(e);var r=n(124),a=n(11);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var i=n(0),s=Object(i.default)(a.default,r.render,r.staticRenderFns,!1,null,null,null);e.default=s.exports}}]);